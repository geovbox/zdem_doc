% 文档相关信息
\newcommand{\ZDEMDOCTITLE}{ZDEM\textbf{参考手册}}   % 文档标题
\newcommand{\ZDEMDOCAUTHOR}{李长圣}                 % 文档作者
\newcommand{\ZDEMDOCVERSION}{ZDEM 2.x}              % 文档版本
\newcommand{\ZDEMURL}{https://geovbox.com/}         % 官方网站

% 字体设置
%\setmonofont{Source Code Pro}

% sphinx已经载入hyperref
\hypersetup{
    % 文档元信息
    pdftitle={\ZDEMDOCTITLE v\ZDEMDOCVERSION},
    pdfauthor={\ZDEMDOCAUTHOR},
    % 超链接及书签设置
    CJKbookmarks=true,
    colorlinks=true,
    linkcolor=blue,
    citecolor=blue,
    urlcolor=blue
}

% 章节标题设置
\ctexset{
    contentsname = {目 \quad 录},
    listfigurename = {图目录},
    listtablename = {表目录},
    chapter/number = \arabic{chapter},
    chapter/beforeskip = 1ex,
    section/afterskip = 5ex,
}
% sphinx使用titleformat设置章节标题属性
% ctex无法修改section的标题属性，故而使用titleformat重新设置
\titleformat{\section}{\Large\bfseries}{\thesection}{0.5em}{}{}
\titleformat{\subsection}{\large\bfseries}{\thesubsection}{0.5em}{}{}
\titleformat{\subsubsection}{\bfseries}{\thesubsubsection}{0.5em}{}{}
% 设置标题前后距离
\titlespacing{\section}{0pt}{3pt}{0pt}
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\titlespacing{\subsubsection}{0pt}{0pt}{0pt}
\setlength{\parskip}{0.75em}

% 列表设置
\usepackage{enumitem}	% 列表宏包
% itemsep 设置列表间距; topsep 设置列表前间距
\setenumerate{
    itemsep=-10pt, partopsep=0pt, parsep=\parskip, topsep=0pt
}
\setitemize{
    itemsep=-10pt, partopsep=0pt, parsep=\parskip, topsep=0pt
}
\setdescription{
    itemsep=-10pt, partopsep=0pt, parsep=\parskip, topsep=0pt, itemindent=0pt
}

%% 双栏目录
%\usepackage{multicol}
%\makeatletter
%\renewcommand{\tableofcontents}{%
%\setlength{\columnsep}{2.5em}
%\begin{multicols}{2}[\chapter*{\contentsname}]%
%    \@starttoc{toc}%
%\end{multicols}}
%\makeatother

% 封面页
\renewcommand{\maketitle}{%
    \pdfbookmark[0]{封面}{cover}
    \begin{titlepage}
    \centering
    \vspace*{6cm}
    \Huge{\ZDEMDOCTITLE}\\[0.25cm]
    \huge{v\ZDEMDOCVERSION}\\[0.5cm]
    \href{\ZDEMURL}{\Large{\ZDEMDOCAUTHOR}} \\
    \Large{\today}	\\
    \end{titlepage}
}

%% 空白页
%\makeatletter	% copy from lnotes
%\def\cleardoublepage{
%    \clearpage
%    \if@twoside
%        \ifodd
%            \c@page
%        \else
%            \hbox{}
%            \vspace*{\fill}
%            \begin{center}
%           保护环境，从阅读电子文档开始！
%            \end{center}
%            \vspace{\fill}
%            \thispagestyle{empty}
%            \newpage
%            \if@twocolumn
%                \hbox{}
%                \newpage
%            \fi
%        \fi
%    \fi
%}
%\makeatother

% 图表标题
\usepackage[labelfont={small,bf}, textfont=small]{caption}
\captionsetup[figure]{aboveskip=6pt, belowskip=6pt}
\captionsetup[table]{aboveskip=6pt, belowskip=-12pt}

% 首行缩进
\usepackage{indentfirst}
\setlength{\parindent}{2em}

% 代码部分
\fvset{fontsize=\scriptsize} % 设置全局代码字体为footnotesize

%页眉页脚
\makeatletter
  \fancypagestyle{normal}
  {
    \fancyhf{}% 清空当前设置
    \fancyfoot[LE,RO]{}
    %\fancyhead[LE,RO]{\thepage}
    \fancyhead[CE,CO]{ZDEM 2.0} % 在偶数页的右侧显示章名
    \fancyhead[RE,RO]{\thepage} % 在偶数页的左侧，奇数页的右侧显示页码
    \renewcommand{\headrulewidth}{0.7pt} % 页眉与正文之间的水平线粗细
    \renewcommand{\footrulewidth}{0pt}
  }
  
  
\fancypagestyle{plain}{%重新定义plain样式，在章的首页使用plain样式
    \fancyhf{}
    \fancyfoot[LE,RO]{}
    \fancyhead[CE,CO]{ZDEM 2.0} % 在偶数页的右侧显示章名
    \fancyhead[RE,RO]{\thepage} % 在偶数页的左侧，奇数页的右侧显示页码
    \renewcommand{\headrulewidth}{0.7pt} % 页眉与正文之间的水平线粗细
    \renewcommand{\footrulewidth}{0pt}
}

%\clearpage {\pagestyle{empty}
%\origdoublepage}% }

\makeatother

